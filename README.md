# RandClusterModel — разработка Planet

## Работая только в каталоге Planet
- Все изменения в рамках этого репозитория выполняются в директории `Planet` и её подпапках.
- Путь содержит исходники, ресурсы, настройки проектов Visual Studio и вспомогательные скрипты для проверки рендеринга и загрузки моделей.
- Если добавляются новые файлы, размещайте их в подходящих подпапках `Planet`, чтобы структура оставалась логичной (например, шейдеры рядом с `HexSphereWidget`, генераторы террейна рядом с `TerrainGenerator`).

## Архитектура проекта
- **Главное окно и UI**: `MainWindow` управляет жизненным циклом приложения и подключает панели настроек (`PlanetSettingsPanel`) и виджет рендеринга (`HexSphereWidget`).
- **Рендеринг и сцена**: `HexSphereWidget` отвечает за OpenGL-контекст и сборку сцены из частей, вынесенных в инклюды (`HexSphereWidget_scene.inc`, `HexSphereWidget_loading.inc`, `HexSphereWidget_window.inc`, `HexSphereWidget_shaders.inc`). Сцена описывается сущностями (`SceneEntity.h`), а измерения производительности собираются в `PerformanceStats`.
- **Геометрия и модели**: генерация сферы и объектов вынесена в `HexSphereModel`, `TerrainTessellator`, `TerrainGenerator`, `ClimateBiomeGenerator` и `PerlinNoise`. Загрузка внешних моделей и кэширование выполняет `ModelHandler`, а пути и навигацию строит `PathBuilder`. Дополнительные вспомогательные парсеры лежат в `simple3d_parser.hpp` и подпапке `converters`.
- **Ресурсы и сцены**: готовые сцены и примеры находятся в `scene/`, тестовые модели — `tree.obj`, ресурсы Qt — в `Planet.qrc`, документация — в `docs/`.
- **Тесты и примеры**: файлы в `tests/` и консольный пример `model_cache_test.cpp` помогают проверять корректность загрузки моделей и кэширования GPU-ресурсов.

## Обновление проектов Visual Studio
- Репозиторий использует файлы `Planet.vcxproj`, `Planet.vcxproj.filters` и `Planet.vcxproj.user` для сборки под Visual Studio.
- При добавлении, удалении или перемещении исходников/ресурсов обязательно синхронизируйте изменения в `.vcxproj` и соответствующих `.filters`, чтобы IDE подхватывала новые элементы и сохранялась структура папок в обозревателе решений.
- Шейдеры, инклюды и файлы ресурсов также должны быть перечислены в проекте, иначе они не попадут в сборку и могут отсутствовать при деплое.
